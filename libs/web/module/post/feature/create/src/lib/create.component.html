<ng-inst-dialog-card
  *ngIf="createPostViewModel.vm$ | async as vm"
  (closeDialog)="createPostViewModel.toggleDialog()"
>
  <!-- ************** -->
  <!-- ADD IMAGE STEP -->
  <!-- ************** -->
  <!--  <ng-inst-step-wrapper *ngIf="createPostStep.ADD_IMAGE === vm.activeStep" title="Create new post">-->
  <!--    <ng-inst-image-add slot="content" (fileLoad)="createPostViewModel.saveFile($event)"></ng-inst-image-add>-->
  <!--  </ng-inst-step-wrapper>-->

  <!-- ************** -->
  <!-- CROP IMAGE -->
  <!-- ************** -->
  <!--  <ng-inst-step-wrapper-->
  <!--    *ngIf="createPostStep.IMAGE_CROP === vm.activeStep"-->
  <!--    title="Crop"-->
  <!--    stepNextTitle="Next"-->
  <!--    [canStepBack]="true"-->
  <!--    [canStepNext]="true"-->
  <!--    (stepBack)="createPostViewModel.stepBackToAddImage()"-->
  <!--    (stepNext)="createPostViewModel.stepToImageInfo($event)"-->
  <!--  >-->
  <!--    <ng-inst-image-crop-->
  <!--      slot="content"-->
  <!--      [imageFile]="vm.imageFileOriginal"-->
  <!--      (imageCropped)="createPostViewModel.saveCroppedImage($event)"-->
  <!--    ></ng-inst-image-crop>-->
  <!--  </ng-inst-step-wrapper>-->

  <!-- ************** -->
  <!-- ADD IMAGE INFO -->
  <!-- ************** -->
  <ng-inst-step-wrapper
    *ngIf="createPostStep.ADD_IMAGE === vm.activeStep"
    title="Create new post"
    stepNextTitle="Share"
    [canStepBack]="true"
    [canStepNext]="true"
    [hasSideBar]="true"
    (stepBack)="createPostViewModel.stepBackToCropImage()"
    (stepNext)="createPostViewModel.submit()"
  >
    <ng-inst-image-info slot="content" [imageURI]="vm.croppedImageFileURI"></ng-inst-image-info>
    <ng-inst-post-sidebar slot="sidebar"></ng-inst-post-sidebar>
  </ng-inst-step-wrapper>

  <!-- ************** -->
  <!-- SUCCESS        -->
  <!-- ************** -->
  <ng-inst-step-wrapper *ngIf="createPostStep.SUCCESS === vm.activeStep" title="Post shared">
    <inst-success slot="content"></inst-success>
  </ng-inst-step-wrapper>
</ng-inst-dialog-card>
