<ng-inst-dialog-card
  *ngIf="createPostViewModel.vm$ | async as vm"
  (closeDialog)="createPostViewModel.toggleDialog()"
>
  <!-- ************** -->
  <!-- ADD IMAGE STEP -->
  <!-- ************** -->
  <ng-inst-step-wrapper *ngIf="createPostStep.ADD_IMAGE === vm.activeStep" title="Create new post">
    <ng-inst-image-add (fileLoad)="createPostViewModel.saveFile($event)"></ng-inst-image-add>
  </ng-inst-step-wrapper>

  <!-- ************** -->
  <!-- CROP IMAGE -->
  <!-- ************** -->
  <ng-inst-step-wrapper
    *ngIf="createPostStep.IMAGE_CROP === vm.activeStep"
    title="Crop"
    stepNextTitle="Next"
    [canStepBack]="true"
    [canStepNext]="true"
    (stepBack)="createPostViewModel.stepBackToAddImage()"
    (stepNext)="createPostViewModel.stepToImageInfo($event)"
  >
    <ng-inst-image-crop [imageFile]="vm.imageFile"></ng-inst-image-crop>
  </ng-inst-step-wrapper>

  <!-- ************** -->
  <!-- ADD IMAGE INFO -->
  <!-- ************** -->
  <ng-inst-step-wrapper
    *ngIf="createPostStep.IMAGE_INFO === vm.activeStep"
    title="Create new post"
    stepNextTitle="Share"
    [canStepBack]="true"
    [canStepNext]="true"
    (stepBack)="createPostViewModel.stepBackToCropImage()"
    (stepNext)="createPostViewModel.submit()"
  >
    <ng-inst-image-info [imageFile]="vm.imageFile"></ng-inst-image-info>
  </ng-inst-step-wrapper>
</ng-inst-dialog-card>
